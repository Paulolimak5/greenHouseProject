
#include <Wire.h> //INCLUSÃO DE BIBLIOTECA
#include <Adafruit_GFX.h> //INCLUSÃO DE BIBLIOTECA
#include <Adafruit_SSD1306.h> //INCLUSÃO DE BIBLIOTECA
#include <DS3231.h>       

DS3231  rtc(SDA, SCL);

Adafruit_SSD1306 display = Adafruit_SSD1306(); //OBJETO DO TIPO Adafruit_SSD1306


// 'pequena', 128x16px
const unsigned char circulo2 [] PROGMEM = {
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xf8, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xfa, 0x7f, 0x2f, 0xff, 0xff, 0xff, 0xf7, 0xbe, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xf8, 0xf7, 0x8f, 0xff, 0xff, 0xff, 0xfb, 0xfd, 0xff, 0xff, 0xff, 0xff, 0xf7, 0xff, 0xff, 
  0xff, 0xf9, 0x66, 0x4f, 0xff, 0xff, 0xff, 0xfe, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xe3, 0xff, 0xff, 
  0xff, 0xfb, 0x2c, 0xef, 0xff, 0xff, 0xff, 0xfd, 0xf7, 0xff, 0xff, 0xff, 0xff, 0xc1, 0xff, 0xff, 
  0xff, 0xfb, 0x81, 0xef, 0xff, 0xff, 0xff, 0xfd, 0xf7, 0xff, 0xff, 0xff, 0xff, 0x80, 0xff, 0xff, 
  0xff, 0xfb, 0xeb, 0xef, 0xff, 0xff, 0xff, 0xe5, 0xf4, 0xff, 0xff, 0xff, 0xff, 0x00, 0x7f, 0xff, 
  0xff, 0xfb, 0xc0, 0xef, 0xff, 0xff, 0xff, 0xfd, 0xf7, 0xff, 0xff, 0xff, 0xff, 0x00, 0x7f, 0xff, 
  0xff, 0xfb, 0x9a, 0x6f, 0xff, 0xff, 0xff, 0xfe, 0xef, 0xff, 0xff, 0xff, 0xff, 0x40, 0x7f, 0xff, 
  0xff, 0xf9, 0x33, 0x4f, 0xff, 0xff, 0xff, 0xfb, 0x1b, 0xff, 0xff, 0xff, 0xff, 0x40, 0x7f, 0xff, 
  0xff, 0xf8, 0xf7, 0x8f, 0xff, 0xff, 0xff, 0xf7, 0x1d, 0xff, 0xff, 0xff, 0xff, 0x20, 0x7f, 0xff, 
  0xff, 0xfa, 0x7f, 0x2f, 0xff, 0xff, 0xff, 0xff, 0x1f, 0xff, 0xff, 0xff, 0xff, 0x90, 0xff, 0xff, 
  0xff, 0xf8, 0x00, 0x0f, 0xff, 0xff, 0xff, 0xff, 0xbf, 0xff, 0xff, 0xff, 0xff, 0xc1, 0xff, 0xff, 
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff
};

/*
Hora
cooler
temperatura
humidade
        int dirtHumidity;
        double airHumidity;
        double airTemperature;
        String plantType;
        String greenHouseName;
        long time;
        bool hasWater;
        Time PlantDate;

*/

void setup(){
  Wire.begin(); //INICIALIZA A BIBLIOTECA WIRE
  display.begin(SSD1306_SWITCHCAPVCC, 0x3C); //INICIALIZA O DISPLAY COM ENDEREÇO I2C 0x3C
  display.setTextColor(WHITE); //DEFINE A COR DO TEXTO
  display.setTextSize(1); //DEFINE O TAMANHO DA FONTE DO TEXTO
  display.clearDisplay(); //LIMPA AS INFORMAÇÕES DO DISPLAY
  // Setup Serial connection
  Serial.begin(115200);
  // Uncomment the next line if you are using an Arduino Leonardo
  //while (!Serial) {}
  rtc.begin();
  rtc.setDOW(WEDNESDAY);     // Set Day-of-Week to SUNDAY
  rtc.setTime(12, 0, 0);     // Set the time to 12:00:00 (24hr format)
  rtc.setDate(1, 1, 2014);   // Set the date to January 1st, 2014
  pinMode(13, OUTPUT);
  digitalWrite(13, HIGH);
}
void loop() {

  display.drawBitmap(0, 0,  circulo2, 128, 16, 1);

  display.setCursor(60,17); //POSIÇÃO EM QUE O CURSOR IRÁ FAZER A ESCRITA
  display.print(rtc.getDateStr()); //ESCREVE O TEXTO NO DISPLAY

  display.setCursor(60,29); //POSIÇÃO EM QUE O CURSOR IRÁ FAZER A ESCRITA
  display.print(rtc.getTimeStr()); //ESCREVE O TEXTO NO DISPLAY

  display.setCursor(60,41); //POSIÇÃO EM QUE O CURSOR IRÁ FAZER A ESCRITA
  display.print("23 Dias"); //ESCREVE O TEXTO NO DISPLAY
  
  display.setCursor(60,53);
  display.print("105 p/ Colh");

  display.setCursor(5,17);
  display.print("24");

  display.setCursor(5,29);
  display.print("72%");

  display.setCursor(5,41);
  display.print("930ppm");

  display.setCursor(5,53);
  display.print("6");
  
  display.display();
  /*delay(1000);
  display.clearDisplay(); //LIMPA AS INFORMAÇÕES DO DISPLAY*/





  Serial.print(rtc.getDOWStr());
  Serial.print(" ");
  Serial.print(rtc.getDateStr());
  Serial.print(" -- ");
  Serial.println(rtc.getTimeStr());

  
  // Wait one second before repeating :)
  /*delay (1000);

  display.setCursor(10,20); //POSIÇÃO EM QUE O CURSOR IRÁ FAZER A ESCRITA
  display.print(rtc.getTimeStr()); //ESCREVE O TEXTO NO DISPLAY
  display.display(); //EFETIVA A ESCRITA NO DISPLAY
  delay(1500); //INTERVALO DE 1,5 SEGUNDOS
  display.clearDisplay(); //LIMPA AS INFORMAÇÕES DO DISPLAY
  */

}
